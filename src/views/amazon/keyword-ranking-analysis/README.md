# Amazon关键词排名数据分析

这是一个功能完整的Amazon关键词排名数据分析页面，类似Excel表格，用于展示关键词在不同位置和时间的排名数据。

## 功能特性

### 🔍 查询功能

- **城市输入**：必填，指定分析的城市
- **排名类型**：必填，选择搜索排名/广告排名/综合排名
- **关键词管理**：支持添加最多5个关键词，支持回车快速添加
- **日期范围**：默认最近7天，可自定义选择
- **高级选项**：最大位置数、任务ID、聚合方式、显示模式等

### 📊 数据展示

- **汇总信息卡片**：显示分析天数、监控位置、关键词数等关键指标
- **矩阵数据表格**：Excel风格的数据展示，支持位置固定、横向滚动
- **ASIN颜色区分**：相同ASIN使用相同颜色，便于识别
- **多关键词支持**：Tab切换或对比模式展示

### 📈 统计分析

- **ASIN频次饼图**：显示出现最多的ASIN分布
- **位置稳定性柱状图**：各位置的稳定性评分
- **关键词覆盖度**：详细的覆盖率分析和评级

### 🔄 对比分析

- **位置竞争分析**：同一位置不同关键词的ASIN竞争情况
- **ASIN覆盖度分析**：ASIN在多个关键词中的表现
- **覆盖度趋势对比**：时间维度的覆盖度变化

## 技术实现

### 核心技术栈

- **Vue 3** + **TypeScript**：现代化的前端框架
- **Element Plus**：UI组件库
- **ECharts**：数据可视化图表
- **SCSS**：样式预处理器

### 组件架构

```
keyword-ranking-analysis/
├── index.vue                 # 主页面
├── types.ts                  # 类型定义
├── utils/                    # 工具函数
│   └── index.ts
├── components/               # 子组件
│   ├── SummaryCard.vue      # 汇总信息卡片
│   ├── MatrixDisplay.vue    # 矩阵数据展示
│   ├── MatrixTable.vue      # 矩阵表格
│   ├── StatisticsCharts.vue # 统计图表
│   └── ComparisonAnalysis.vue # 对比分析
└── README.md                # 说明文档
```

### API接口

```typescript
// 获取分析数据
GET / amazon / keyword - ranking / analysis

// 请求参数
interface AnalysisRequest {
  startDate?: string // 开始日期
  endDate?: string // 结束日期
  city: string // 城市（必填）
  rankType: number // 排名类型（必填）
  keywords?: string[] // 关键词列表
  maxPosition?: number // 最大位置数
  aggregationType?: string // 聚合方式
  displayMode?: string // 显示模式
  comparisonType?: string // 对比类型
}
```

## 使用方法

### 1. 基本查询

1. 输入城市名称（必填）
2. 选择排名类型（必填）
3. 添加关键词（可选，最多5个）
4. 选择日期范围（默认最近7天）
5. 点击"查询分析"按钮

### 2. 开发模式测试

在开发环境下，页面会显示"加载测试数据"按钮，点击可以加载模拟数据进行功能测试。

### 3. 数据解读

- **位置编码**：P1-01 表示第1页第1个位置
- **ASIN颜色**：相同ASIN使用相同颜色标识
- **覆盖率评级**：优秀(≥80%) > 良好(≥60%) > 一般(≥40%) > 较差(<40%)

## 性能优化

### 大数据处理

- **虚拟滚动**：处理大量数据时的性能优化
- **懒加载**：图表数据按需加载
- **防抖处理**：用户输入防抖，避免频繁请求

### 缓存策略

- **查询结果缓存**：避免重复请求相同数据
- **颜色映射缓存**：ASIN颜色映射持久化

## 响应式设计

- **桌面端**：完整功能展示，多列布局
- **平板端**：自适应布局调整
- **移动端**：单列布局，触摸友好

## 错误处理

- **网络错误**：友好的错误提示和重试机制
- **参数验证**：实时表单验证和错误提示
- **无数据状态**：空状态页面展示
- **加载状态**：Loading动画和进度提示

## 扩展功能

### 已实现

- ✅ 数据导出（CSV格式）
- ✅ 自定义颜色主题
- ✅ 查询历史记录
- ✅ 实时数据刷新

### 计划中

- 🔄 Excel导出功能
- 🔄 数据筛选和排序
- 🔄 自定义报表模板
- 🔄 数据对比和趋势分析

## 开发指南

### 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### 添加新功能

1. 在 `types.ts` 中定义新的类型
2. 在 `utils/index.ts` 中添加工具函数
3. 创建新的组件文件
4. 在主页面中引入和使用

### 代码规范

- 使用 TypeScript 进行类型检查
- 遵循 Vue 3 Composition API 规范
- 使用 ESLint 和 Prettier 进行代码格式化
- 组件命名使用 PascalCase
- 文件命名使用 kebab-case

## 常见问题

### Q: 如何添加新的排名类型？

A: 在查询表单的排名类型选择器中添加新的选项，并更新对应的类型映射。

### Q: 如何自定义ASIN颜色？

A: 修改 `utils/index.ts` 中的 `ASIN_COLOR_PALETTE` 数组。

### Q: 如何处理大量数据的性能问题？

A: 使用虚拟滚动、分页加载或数据聚合等方式优化性能。

### Q: 如何添加新的图表类型？

A: 在 `StatisticsCharts.vue` 中添加新的图表组件，使用 ECharts 进行实现。

## 更新日志

### v1.0.0 (2025-01-15)

- ✨ 初始版本发布
- ✨ 完整的查询和展示功能
- ✨ 矩阵数据表格
- ✨ 统计图表分析
- ✨ 对比分析功能
- ✨ 响应式设计
- ✨ 开发模式测试数据

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目！

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License
